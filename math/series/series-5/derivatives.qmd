---
title: "Производные и их применение"
subtitle: "Основные понятия и методы вычисления"
toc: true
toc-depth: 2
format: 
    html:
        number-sections: false
        html-math-method: katex
        self-contained: true
        monofont: JetBrains Mono
        code-fold: true
        code-overflow: scroll
        code-tools: true
        code-link: true
format-links: false
jupyter: python3
---

Ниже приведено подробное и наглядное объяснение, почему производная функции в точке $x$ связана с углом наклона касательной к графику этой функции в той же точке. Постараемся изложить материал так, чтобы его легко мог понять ученик 9 класса.

---

## 1. Что такое производная?

### 1.1. Разностное отношение

Пусть у нас есть некоторая функция $f(x)$. Рассмотрим две точки на оси $x$: $x$ и $x + h$. Тогда:

1. Значение функции в точке $x$ есть $f(x)$.
2. Значение функции в точке $x + h$ есть $f(x + h)$.

Чтобы понять, насколько быстро «растёт» (или «убывает») функция, мы можем вычислить **наклон** отрезка, соединяющего точки $\bigl(x, f(x)\bigr)$ и $\bigl(x+h, f(x+h)\bigr)$. Наклон (угловой коэффициент) этого **секущего** отрезка равен:

$$
\frac{f(x+h) - f(x)}{(x+h) - x} \;=\; \frac{f(x+h) - f(x)}{h}.
$$

Это выражение называется **разностным отношением**.

```{python}
#| label: fig-difference-quotient
#| fig-cap: "Разностное отношение и секущая линия"

import numpy as np
import matplotlib.pyplot as plt
from matplotlib.patches import Rectangle

# Создаем функцию f(x) = x^2
def f(x):
    return x**2

# Значения для графика
x_values = np.linspace(-1, 3, 1000)
y_values = [f(x) for x in x_values]

# Определим точки для демонстрации
x0 = 1.0  # Первая точка
h = 0.8   # Шаг (разница между точками)
x1 = x0 + h  # Вторая точка

# Вычисление разностного отношения
slope = (f(x1) - f(x0)) / (x1 - x0)

# Создаем график
plt.figure(figsize=(10, 6))

# Рисуем функцию f(x)
plt.plot(x_values, y_values, 'b-', linewidth=2, label=r'$f(x) = x^2$')

# Отмечаем точки
plt.plot(x0, f(x0), 'ro', markersize=8)
plt.plot(x1, f(x1), 'ro', markersize=8)

# Рисуем секущую линию
secant_x = np.linspace(x0-0.5, x1+0.5, 2)
secant_y = f(x0) + slope * (secant_x - x0)
plt.plot(secant_x, secant_y, 'g--', linewidth=2, 
         label=f'Секущая (наклон = {slope:.2f})')

# Добавляем линии и аннотации
plt.vlines(x0, 0, f(x0), 'k', linestyles='--', alpha=0.5)
plt.vlines(x1, 0, f(x1), 'k', linestyles='--', alpha=0.5)
plt.hlines(f(x0), 0, x0, 'k', linestyles='--', alpha=0.5)
plt.hlines(f(x1), 0, x1, 'k', linestyles='--', alpha=0.5)

# Добавляем аннотации
plt.annotate(f'$x$', (x0, -0.15), ha='center')
plt.annotate(f'$x+h$', (x1, -0.15), ha='center')
plt.annotate(f'$f(x)$', (-0.15, f(x0)), va='center')
plt.annotate(f'$f(x+h)$', (-0.15, f(x1)), va='center')

# Рисуем прямоугольный треугольник, иллюстрирующий разностное отношение
plt.plot([x0, x1, x1], [f(x0), f(x0), f(x1)], 'r--', linewidth=1.5)

# Добавляем формулу разностного отношения
plt.annotate(r'$\frac{f(x+h) - f(x)}{h} = \frac{' + f'{f(x1):.2f} - {f(x0):.2f}' + r'}{' + f'{h:.2f}' + r'} = ' + f'{slope:.2f}$', 
             (x0 + h/2, (f(x0) + f(x1))/2 + 0.5), 
             bbox=dict(boxstyle="round,pad=0.5", fc="yellow", alpha=0.7))

# Настройки графика
plt.grid(True, alpha=0.3)
plt.legend(loc='upper left')
plt.xlabel('$x$')
plt.ylabel('$f(x)$')
plt.title('Геометрический смысл разностного отношения')
plt.tight_layout()
plt.show()
```

### 1.2. Переход к касательной

Чтобы получить именно **касательную** к графику в точке $x$, мы делаем шаг $h$ очень маленьким (стремимся к $0$). При этом точка $x+h$ «подползает» к $x$, и секущая превращается в касательную. Математически это описывается **пределом**:

$$
f'(x) \;=\; \lim_{h \to 0} \frac{f(x+h) - f(x)}{h}.
$$

- $f'(x)$ и называется **производной** функции $f(x)$ в точке $x$.
- Геометрически $f'(x)$ — это **наклон касательной** к графику $y=f(x)$ в точке $(x, f(x))$.

---

## 2. Как связать производную с «углом наклона»?

### 2.1. Угол наклона касательной

Когда мы говорим «угол наклона» прямой, обычно имеем в виду угол $\alpha$ между этой прямой и **положительным направлением оси $x$**. 

- Если наклон (производная) равен $m$, то угол $\alpha$ определяется из уравнения
  $$
    \tan(\alpha) = m.
  $$
- Значит, $\alpha = \arctan(m)$. 

В контексте производной: 
$$
  m = f'(x) \quad \Longrightarrow \quad \alpha = \arctan\bigl(f'(x)\bigr).
$$

Таким образом, **производная** в точке $x$ показывает, чему равен **тангенс угла наклона** касательной к графику.

> **Важно:** если $f'(x)$ положительна, то функция возрастает, касательная идёт «вверх»; если $f'(x)$ отрицательна — убывает, касательная идёт «вниз». Если $f'(x) = 0$, касательная горизонтальна, а угол наклона равен $0$ (или $\pi$, но мы обычно берем «малый» угол 0°).

---

## 3. Примеры

### 3.1. Постоянная функция

$$
  f(x) = C, \quad \text{где } C \text{ — константа.}
$$

- График — это прямая, параллельная оси $x$.
- $\displaystyle f'(x) = 0$ для всех $x$.
- $\tan(\alpha) = 0 \;\Rightarrow\; \alpha = 0^\circ$.
- Значит, график не «наклонён», а идёт строго горизонтально.

```{python}
#| label: fig-constant-function
#| fig-cap: "Постоянная функция и её производная"

import numpy as np
import matplotlib.pyplot as plt

# Создаем функцию f(x) = C
def f(x):
    return np.full_like(x, 3)

# Значения для графика
x_values = np.linspace(-1, 3, 1000)
y_values = f(x_values)

# Создаем график
plt.figure(figsize=(10, 6))

# Рисуем функцию f(x)
plt.plot(x_values, y_values, 'b-', linewidth=2, label=r'$f(x) = 3$')

# Рисуем касательную линию
tangent_x = np.linspace(-1, 3, 2)
tangent_y = f(tangent_x)
plt.plot(tangent_x, tangent_y, 'g--', linewidth=2, label='Касательная (наклон = 0)')

# Настройки графика
plt.grid(True, alpha=0.3)
plt.legend(loc='upper left')
plt.xlabel('$x$')
plt.ylabel('$f(x)$')
plt.title('Постоянная функция и её производная')
plt.tight_layout()
plt.show()
```

### 3.2. Линейная функция

$$
  f(x) = x.
$$

- График — это прямая, которая проходит через начало координат с угловым коэффициентом $1$.
- $\displaystyle f'(x) = 1$ для всех $x$.
- $\tan(\alpha) = 1 \;\Rightarrow\; \alpha = 45^\circ$.
- То есть наклон всегда $45^\circ$ к оси $x$.

Если взять любую другую линейную функцию $f(x) = kx + b$, то её производная $f'(x) = k$, а угол $\alpha$ будет таким, что $\tan(\alpha) = k$.

```{python}
#| label: fig-linear-function
#| fig-cap: "Линейная функция и её производная"

import numpy as np
import matplotlib.pyplot as plt

# Создаем функцию f(x) = x
def f(x):
    return x

# Значения для графика
x_values = np.linspace(-1, 3, 1000)
y_values = f(x_values)

# Создаем график
plt.figure(figsize=(10, 6))

# Рисуем функцию f(x)
plt.plot(x_values, y_values, 'b-', linewidth=2, label=r'$f(x) = x$')

# Рисуем касательную линию
tangent_x = np.linspace(-1, 3, 2)
tangent_y = f(tangent_x)
plt.plot(tangent_x, tangent_y, 'g--', linewidth=2, label='Касательная (наклон = 1)')

# Настройки графика
plt.grid(True, alpha=0.3)
plt.legend(loc='upper left')
plt.xlabel('$x$')
plt.ylabel('$f(x)$')
plt.title('Линейная функция и её производная')
plt.tight_layout()
plt.show()
```

### 3.3. Квадратичная функция

$$
  f(x) = x^2.
$$

- По определению производной:
  $$
    f'(x) = \lim_{h \to 0} \frac{(x+h)^2 - x^2}{h}
           = \lim_{h \to 0} \frac{x^2 + 2xh + h^2 - x^2}{h}
           = \lim_{h \to 0} \frac{2xh + h^2}{h}
           = \lim_{h \to 0} \bigl(2x + h\bigr)
           = 2x.
  $$
- В точке $x = 2$, например, производная $f'(2) = 4$. 
  - Угол наклона касательной $\alpha = \arctan(4)$. Число 4 — это довольно «крутой» наклон.

На рисунках обычно видно, как при разных $x$ наклон касательной к параболе $y=x^2$ меняется: слева от вершины наклон отрицательный, в вершине (при $x=0$) равен 0, а справа — положительный и всё больше растёт.

```{python}
#| label: fig-quadratic-function
#| fig-cap: "Квадратичная функция и её производная"

import numpy as np
import matplotlib.pyplot as plt

# Создаем функцию f(x) = x^2
def f(x):
    return x**2

# Значения для графика
x_values = np.linspace(-1, 3, 1000)
y_values = f(x_values)

# Определим точку для демонстрации
x0 = 2.0  # Точка касания

# Вычисление производной в точке x0
slope = 2 * x0

# Создаем график
plt.figure(figsize=(10, 6))

# Рисуем функцию f(x)
plt.plot(x_values, y_values, 'b-', linewidth=2, label=r'$f(x) = x^2$')

# Отмечаем точку
plt.plot(x0, f(x0), 'ro', markersize=8)

# Рисуем касательную линию
tangent_x = np.linspace(x0-1, x0+1, 2)
tangent_y = f(x0) + slope * (tangent_x - x0)
plt.plot(tangent_x, tangent_y, 'g--', linewidth=2, label=f'Касательная (наклон = {slope:.2f})')

# Настройки графика
plt.grid(True, alpha=0.3)
plt.legend(loc='upper left')
plt.xlabel('$x$')
plt.ylabel('$f(x)$')
plt.title('Квадратичная функция и её производная')
plt.tight_layout()
plt.show()
```

---

## 4. Зачем нужен угол наклона и где применяется?

1. **Графическое понимание возрастания/убывания**. Если знаем угол наклона (или хотя бы знак производной), понимаем, возрастает ли функция ($f'(x) > 0$), убывает ли ($f'(x) < 0$) или лежит горизонтально ($f'(x)=0$).
2. **Задачи в физике**. Если $f(x)$ описывает путь, пройденный телом, то его производная $f'(x)$ — это скорость. Угол наклона графика «путь–время» показывает, насколько быстро тело движется. Чем больше угол, тем выше скорость.
3. **Оптимизация**. Зная, где производная равна 0 (то есть наклон касательной равен 0°), можно искать максимумы и минимумы функций — важный инструмент во многих прикладных задачах.

---

## 5. Итоговая схема

1. **Секущая**: наклон секущей $\dfrac{f(x+h) - f(x)}{h}$.
2. **Касательная**: берём $\lim_{h \to 0}$, получаем $f'(x)$.
3. **Угол $\alpha$**: $\tan(\alpha) = f'(x)$ $\;\Rightarrow\;\alpha = \arctan\bigl(f'(x)\bigr)$.

Таким образом, **производная** — это не просто формула, а величина, описывающая, насколько «круто» в данной точке поднимается (или опускается) график функции. В геометрическом смысле это и есть **угол наклона касательной** (через тангенс).

---

### Коротко о главном

- **Производная $f'(x)$**: мера «скорости изменения» $f(x)$ в точке $x$.  
- **Геометрический смысл**: угловой коэффициент касательной к графику.  
- **Угол наклона $\alpha$**: $\tan(\alpha) = f'(x)$.  

Надеюсь, теперь стало понятно, что за «угол наклона» имеют в виду на уроках при изучении производных, и как это применяется в различных задачах!

---

## 6. Таблица основных производных

Ниже приведена **таблица основных производных** (для реальных функций одного переменного). Для удобства в правом столбце выписаны соответствующие формулы:

| Функция $f(x)$              | Производная $f'(x)$                  |
|--------------------------------|----------------------------------------|
| $C$ (постоянная)             | $0$                                  |
| $x^n$                        | $n \cdot x^{n-1}$                    |
| $\sqrt{x} = x^{\tfrac{1}{2}}$| $\tfrac{1}{2} \cdot x^{-\tfrac{1}{2}}$|
| $\tfrac{1}{x} = x^{-1}$      | $-x^{-2}$                            |
| $a^x \quad (a>0)$            | $a^x \ln(a)$                         |
| $e^x$                        | $e^x$                                |
| $\ln(x)$                     | $\tfrac{1}{x}$                       |
| $\log_a(x) \quad (a>0, a \neq 1)$ | $\tfrac{1}{x \ln(a)}$              |
| $\sin(x)$                    | $\cos(x)$                            |
| $\cos(x)$                    | $-\sin(x)$                           |
| $\tan(x)$                    | $\sec^2(x)$ или $1 + \tan^2(x)$    |
| $\cot(x)$                    | $-\csc^2(x)$                         |
| $\arcsin(x)$                 | $\tfrac{1}{\sqrt{1 - x^2}}$          |
| $\arccos(x)$                 | $-\tfrac{1}{\sqrt{1 - x^2}}$         |
| $\arctan(x)$                 | $\tfrac{1}{1 + x^2}$                 |
| $\operatorname{arccot}(x)$   | $-\tfrac{1}{1 + x^2}$                |

:::{.callout-note}
# Примечание:
- $C$ — любая константа.  
- $a$ — положительная константа, отличная от 1 (для $\log_a(x)$ и $a^x$).  
- $\sec(x) = \frac{1}{\cos(x)}, \quad \csc(x) = \frac{1}{\sin(x)}.$
:::

---

## 7. Основные правила дифференцирования

1. **Правило суммы**  
   $$
   (f(x) + g(x))' = f'(x) + g'(x).
   $$

2. **Правило произведения**  
   $$
   (f(x) \cdot g(x))' = f'(x)\,g(x) + f(x)\,g'(x).
   $$

3. **Правило частного**  
   $$
   \left(\frac{f(x)}{g(x)}\right)' = \frac{f'(x)\,g(x) - f(x)\,g'(x)}{\bigl(g(x)\bigr)^2}.
   $$

4. **Правило цепочки** (для сложной функции $f(g(x))$)  
   $$
   \frac{d}{dx}f(g(x)) = f'(g(x)) \cdot g'(x).
   $$

Все эти формулы и правила помогают быстро находить производные стандартных функций и их комбинаций.

---

## 8. Задачи для самостоятельного решения

Вот 5 простых задач на нахождение производных. Я добавил к каждой задаче подсказку, какой подход нужно применить.  

1. **Найти производную функции:**  
   $$
   f(x) = 3x^2 + 5x - 7
   $$  
   **Подсказка:** Используй правило суммы и стандартные производные для степенных функций.  

2. **Найти производную функции:**  
   $$
   g(x) = \sqrt{x} + \frac{1}{x}
   $$  
   **Подсказка:** Перепиши корень как степень ($\sqrt{x} = x^{1/2}$) и дробь как степень ($\frac{1}{x} = x^{-1}$), а затем примени правило дифференцирования степенной функции.  

3. **Найти производную функции:**  
   $$
   h(x) = (x^2 + 3x) \cdot (x - 4)
   $$  
   **Подсказка:** Это произведение двух функций, поэтому применяй **правило произведения**: $(f \cdot g)' = f' g + f g'$.  

4. **Найти производную функции:**  
   $$
   p(x) = \frac{x^2 + 2}{x + 1}
   $$  
   **Подсказка:** Здесь дробь, поэтому используй **правило частного**:  
   $$
   \left(\frac{f}{g}\right)' = \frac{f' g - f g'}{g^2}
   $$  

5. **Найти производную функции:**  
   $$
   q(x) = (3x^2 - x + 4)^5
   $$  
   **Подсказка:** Это сложная функция, применяй **правило цепочки**:  
   $$
   (f(g(x)))' = f'(g(x)) \cdot g'(x).
   $$  
