---
title: "Derivatives"
author: "Professor Alex"
date: "2025-04-27"
format:
    html: 
        toc: true
        toc-depth: 3
        embed-resources: true
        code-fold: true
jupyter: python3
---

# Derivatives

In this file we will dive into the derivatives of the functions.

## Background

Have you ever wondered how fast a car is going at a particular moment, not just on average? Or how we know how steep a hill is at a certain point? Questions like these are what led mathematicians to develop the concept of derivatives.

### The Origins of Derivatives

The idea of derivatives comes from the need to understand **motion** and **change**. Long before modern tools, people wanted to describe how things moved — for example, how fast an object falls, or how the position of a planet changes over time. To do this, they needed a way to measure how one quantity changes compared to another.

Imagine a ball rolling down a hill. We can measure how far it travels over time and calculate its **average speed**. But what if we want to know the **speed at a single moment**? That’s where the idea of **instantaneous rate of change** comes in — and that's exactly what a **derivative** measures.

### Newton and Leibniz

In the 1600s, two brilliant mathematicians — **Isaac Newton** in England and **Gottfried Wilhelm Leibniz** in Germany — independently developed a new branch of mathematics called **calculus**. Although they used different notations, their ideas were very similar.

- **Newton** used derivatives to study physics. He wanted to understand how objects move, especially under the force of gravity. He described these ideas using **rates of change** — how quickly one quantity changes in relation to another.
- **Leibniz** focused more on the mathematical side and developed a notation for derivatives that we still use today.

Their discoveries allowed scientists to make huge advances in astronomy, engineering, and physics.

### From Problems to Calculus

Before calculus, many real-world problems were extremely difficult or impossible to solve. Calculus — built on the ideas of **limits**, **derivatives**, and **integrals** — gave mathematicians a powerful tool to understand the world.

- **Derivatives** helped describe motion, speed, and slopes.
- **Integrals** helped measure areas and volumes.
- Together, they became the foundation of modern mathematics and science.

In this report, we will explore what derivatives are, how to calculate them, and how they help us solve interesting problems.

## Definition

Now that we know where the idea of derivatives comes from, let's look at what a **derivative** actually is.

### What Is a Derivative?

A **derivative** measures how a function changes as its input changes. In simple terms, it tells us the **rate of change** or the **slope** of a function at a specific point.

Imagine you're riding a bike. If you want to know how fast you're going at a single moment, you're looking for your **instantaneous speed** — not your average speed over a whole trip. The derivative helps us find that kind of speed for any changing quantity.

In graphs, the derivative tells us the **slope of the tangent line** to a curve at a point. This means how steep the graph is at that point.

### The Limit Definition of a Derivative

To define the derivative more precisely, we use a concept from calculus called a **limit**. Here's the **limit definition of the derivative**:

$$
f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h}
$$

Let’s break down what this means:

- $f(x)$: the original function — for example, $f(x) = x^2$
- $h$: a very small change in $x$
- $f(x + h)$: the value of the function after a small step $h$
- $f(x + h) - f(x)$: the change in the function’s value
- $\frac{f(x + h) - f(x)}{h}$: the average rate of change (or slope) over that small step
- The **limit** as $h \to 0$ gives the exact rate of change at the point $x$

This formula is how we find the **derivative** of a function at any point $x$.

### Derivative Notation

There are a few ways to write the derivative of a function:

- $f'(x)$: read as "f prime of x"
- $\frac{dy}{dx}$: used when the function is written as $y = f(x)$; this reads as "dy by dx"
- $Df(x)$: used in some textbooks and contexts

All of these notations mean the same thing — the **derivative** or **rate of change** of a function.

In the next section, we will look at examples of how to calculate derivatives using this definition and some shortcut rules.

## Examples

Now that we understand what a derivative is, let’s look at how to find one in practice. We'll use two main methods:

1. The **limit definition** of a derivative
2. **Derivative rules** from a table

### Example 1: Using the Limit Definition

Let’s find the derivative of the function $f(x) = x^2$ using the limit definition.

#### Step 1: Write the definition

$$
f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h}
$$

#### Step 2: Plug in $f(x) = x^2$

$$
f'(x) = \lim_{h \to 0} \frac{(x+h)^2 - x^2}{h}
$$

#### Step 3: Expand the expression

$$
(x + h)^2 = x^2 + 2xh + h^2
$$

So the numerator becomes:

$$
x^2 + 2xh + h^2 - x^2 = 2xh + h^2
$$

#### Step 4: Simplify the fraction

$$
f'(x) = \lim_{h \to 0} \frac{2xh + h^2}{h}
$$

Factor out $h$:

$$
= \lim_{h \to 0} \frac{h(2x + h)}{h}
$$

Cancel the $h$:

$$
= \lim_{h \to 0} (2x + h)
$$

Now take the limit as $h \to 0$:

$$
f'(x) = 2x
$$

✅ So, the derivative of $f(x) = x^2$ is $f'(x) = 2x$.

### Example 2: Using Derivative Rules

Once we understand the idea, we can use shortcuts to save time. For many functions, we don’t need to use the limit every time.

Here are some common derivative rules:

| Function                | Derivative               |
|-------------------------|--------------------------|
| $f(x) = x^n$       | $f'(x) = nx^{n-1}$   |
| $f(x) = \sin x$    | $f'(x) = \cos x$     |
| $f(x) = \cos x$    | $f'(x) = -\sin x$    |
| $f(x) = e^x$       | $f'(x) = e^x$        |
| $f(x) = \ln x$     | $f'(x) = \frac{1}{x}$|

#### Example A: $f(x) = x^3$

Use the power rule: $f'(x) = 3x^2$

#### Example B: $f(x) = \cos x$

From the table: $f'(x) = -\sin x$

#### Example C: $f(x) = \ln x$

From the table: $f'(x) = \frac{1}{x}$

These shortcuts are based on the limit definition, but they let us find derivatives much faster. In the next section, we’ll learn some important rules for combining functions, such as the product and chain rules.

## Properties

Now that we know how to take simple derivatives, we can explore some important **rules** that help us find derivatives of more complex functions. These are called the **properties of derivatives**.

### 1. The Product Rule

When you multiply two functions together, their derivative is not just the product of the two derivatives.

#### Rule

If $f(x)$ and $g(x)$ are two functions, then:

$$
(f \cdot g)'(x) = f'(x) \cdot g(x) + f(x) \cdot g'(x)
$$

**Think of it as:** “first times the derivative of the second, plus second times the derivative of the first.”

#### Example

Let $f(x) = x^2$ and $g(x) = \sin x$

Then:

- $f'(x) = 2x$
- $g'(x) = \cos x$

Using the product rule:

$$
(f \cdot g)'(x) = 2x \cdot \sin x + x^2 \cdot \cos x
$$

### 2. The Quotient Rule

When dividing two functions, use this rule to find the derivative.

#### Rule

If $f(x)$ and $g(x)$ are two functions, then:

$$
\left(\frac{f}{g}\right)'(x) = \frac{f'(x) \cdot g(x) - f(x) \cdot g'(x)}{[g(x)]^2}
$$

**Think of it as:** “low d high minus high d low over square of what’s below.”

#### Example

Let $f(x) = x$, $g(x) = x^2 + 1$

Then:

- $f'(x) = 1$
- $g'(x) = 2x$

Apply the quotient rule:

$$
\left(\frac{x}{x^2 + 1}\right)' = \frac{1 \cdot (x^2 + 1) - x \cdot 2x}{(x^2 + 1)^2}
= \frac{x^2 + 1 - 2x^2}{(x^2 + 1)^2}
= \frac{-x^2 + 1}{(x^2 + 1)^2}
$$

### 3. The Chain Rule

The chain rule is used when one function is inside another function — a **composition** of functions.

#### Rule

If $y = f(g(x))$, then:

$$
\frac{dy}{dx} = f'(g(x)) \cdot g'(x)
$$

**In words:** Take the derivative of the outside function, keep the inside the same, then multiply by the derivative of the inside.

#### Example

Let $f(x) = \sin(x^2)$

This is a composition: $\sin(u) $, where $u = x^2$

- Outer function: $f(u) = \sin u$, so $f'(u) = \cos u$
- Inner function: $u = x^2$, so $u' = 2x$

Using the chain rule:

$$
f'(x) = \cos(x^2) \cdot 2x
$$

These rules are powerful tools that help us take derivatives of more complex expressions. In the next section, we'll learn how these tools are used in real-life and mathematical applications.

## Applications

Derivatives are not just a topic in maths class — they are tools used to solve real problems. In this section, we'll explore how derivatives help us understand the shape of graphs and solve practical questions about functions.

---

### 1. Finding Maximum and Minimum Points

One of the most common uses of derivatives is to find where a function reaches its **highest** or **lowest** value — these are called **maximum** and **minimum** points.

#### How?

- Find where the **derivative is zero**: $f'(x) = 0$
- These are called **critical points**.
- Then check the shape of the graph around those points to decide whether it’s a maximum or a minimum.

#### Example:

Let $f(x) = -x^2 + 4x$

- Take the derivative: $f'(x) = -2x + 4$
- Set it to zero: $-2x + 4 = 0 \Rightarrow x = 2$
- This is a maximum point, because the graph opens downwards (a “hill”).

#### Python Example:

```{python}
import numpy as np
import matplotlib.pyplot as plt
from scipy.optimize import minimize

# Define the function
def f(x):
    return -x**2 + 4*x

# Define the negative of f for finding maximum (since minimize finds minimum)
def neg_f(x):
    return -f(x)

# Find the maximum using SciPy
result = minimize(neg_f, 0)  # Start with an initial guess of x=0
max_x = result.x[0]

# Create data for plotting
x = np.linspace(-1, 5, 100)
y = f(x)

# Plot
plt.figure(figsize=(10, 6))
plt.plot(x, y)
plt.axhline(y=0, color='k', linestyle='-', alpha=0.3)
plt.axvline(x=0, color='k', linestyle='-', alpha=0.3)
plt.plot(max_x, f(max_x), 'ro', markersize=8)
plt.grid(True, alpha=0.3)
plt.title(f'Maximum point at x = {max_x:.2f}, y = {f(max_x):.2f}')
plt.xlabel('x')
plt.ylabel('f(x)')
plt.show()

print(f"Maximum occurs at x = {max_x:.4f} with value {f(max_x):.4f}")
```

---

### 2. Finding Inflection Points

An **inflection point** is where the graph changes its **curvature** — from bending up to bending down, or the other way around.

#### How?

- Take the **second derivative** (the derivative of the derivative).
- Find where the second derivative is zero: $f''(x) = 0$
- These are possible inflection points.

#### Example:

Let $f(x) = x^3$

- First derivative: $f'(x) = 3x^2$
- Second derivative: $f''(x) = 6x$
- Set $f''(x) = 0$: $x = 0$
- So $x = 0$ is an inflection point — the graph changes from curving down to curving up.

#### Python Example:

```{python}
import numpy as np
import matplotlib.pyplot as plt

# Define the function and its derivatives
def f(x):
    return x**3

def f_prime(x):
    return 3 * x**2

def f_second(x):
    return 6 * x

# Find inflection point analytically
# f''(x) = 6x = 0 => x = 0
inflection_x = 0

# Create data for plotting
x = np.linspace(-2, 2, 1000)
y = [f(xi) for xi in x]
y_prime = [f_prime(xi) for xi in x]
y_second = [f_second(xi) for xi in x]

# Plot
fig, (ax1, ax2, ax3) = plt.subplots(3, 1, figsize=(10, 12))

# Plot original function
ax1.plot(x, y)
ax1.plot(inflection_x, f(inflection_x), 'ro', markersize=8)
ax1.set_title(f'Function f(x) = x³ with inflection point at x = {inflection_x}')
ax1.axhline(y=0, color='k', linestyle='-', alpha=0.3)
ax1.axvline(x=0, color='k', linestyle='-', alpha=0.3)
ax1.grid(True, alpha=0.3)

# Plot first derivative
ax2.plot(x, y_prime)
ax2.set_title("First Derivative f'(x) = 3x²")
ax2.axhline(y=0, color='k', linestyle='-', alpha=0.3)
ax2.axvline(x=0, color='k', linestyle='-', alpha=0.3)
ax2.grid(True, alpha=0.3)

# Plot second derivative
ax3.plot(x, y_second)
ax3.plot(inflection_x, 0, 'ro', markersize=8)
ax3.set_title("Second Derivative f''(x) = 6x")
ax3.axhline(y=0, color='k', linestyle='-', alpha=0.3)
ax3.axvline(x=0, color='k', linestyle='-', alpha=0.3)
ax3.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print(f"Inflection point at x = {inflection_x} where f''(x) = 0")
```

---

### 3. Concavity of a Function

The **concavity** of a function tells us how the graph is bending.

- If $f''(x) > 0$, the graph is **concave up** (like a smile 😊)
- If $f''(x) < 0$, the graph is **concave down** (like a frown ☹️)

Knowing the concavity helps us understand the graph’s shape and identify maxima and minima more easily.

#### Python Example:

```{python}
import numpy as np
import matplotlib.pyplot as plt
from matplotlib.colors import LinearSegmentedColormap

# Define function and its second derivative
def f(x):
    return x**4 - 4*x**2

def f_second(x):
    return 12*x**2 - 8

# Create data for plotting
x = np.linspace(-3, 3, 1000)
y = f(x)
concavity = f_second(x)

# Find where concavity changes
x_inflection = np.sqrt(2/3)  # Solving f''(x) = 0
inflection_points = [-x_inflection, x_inflection]

# Create custom colormap for concavity
cmap = LinearSegmentedColormap.from_list('concavity', ['red', 'green'])

# Plot
plt.figure(figsize=(10, 8))

# Main plot of the function
plt.subplot(2, 1, 1)
plt.plot(x, y)
for point in inflection_points:
    plt.plot(point, f(point), 'ko', markersize=8)
plt.axhline(y=0, color='k', linestyle='-', alpha=0.3)
plt.axvline(x=0, color='k', linestyle='-', alpha=0.3)
plt.title(f'f(x) = x⁴ - 4x² with inflection points at x ≈ ±{x_inflection:.2f}')
plt.grid(True, alpha=0.3)

# Color the background based on concavity
plt.subplot(2, 1, 2)
plt.plot(x, y)
plt.fill_between(x, -10, 10, where=concavity<0, alpha=0.3, color='red', label='Concave Down')
plt.fill_between(x, -10, 10, where=concavity>0, alpha=0.3, color='green', label='Concave Up')
plt.ylim(min(y)-0.5, max(y)+0.5)
plt.axhline(y=0, color='k', linestyle='-', alpha=0.3)
plt.axvline(x=0, color='k', linestyle='-', alpha=0.3)
plt.title('Concavity Regions')
plt.legend()
plt.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print(f"Concave up when |x| > {x_inflection:.2f}")
print(f"Concave down when |x| < {x_inflection:.2f}")
```

---

### 4. Intervals of Increase and Decrease

Derivatives also tell us where a function is **going up** or **going down**.

- If $f'(x) > 0$, the function is **increasing** on that interval.
- If $f'(x) < 0$, the function is **decreasing**.

#### Example:

Let $f(x) = x^2 - 4x$

- First derivative: $f'(x) = 2x - 4$
- Set it to zero: $2x - 4 = 0 \Rightarrow x = 2$
- For $x < 2$, $f'(x) < 0$: decreasing
- For $x > 2$, $f'(x) > 0$: increasing

So the function decreases until $x = 2$, then increases — making $x = 2$ a **minimum point**.

#### Python Example:

```{python}
import numpy as np
import matplotlib.pyplot as plt

# Define function and its derivative
def f(x):
    return x**2 - 4*x

def f_prime(x):
    return 2*x - 4

# Create data for plotting
x = np.linspace(-1, 5, 1000)
y = f(x)
y_prime = f_prime(x)

# Critical point where f'(x) = 0
critical_x = 2

# Plot
fig, (ax1, ax2) = plt.subplots(2, 1, figsize=(10, 10))

# Function plot
ax1.plot(x, y)
ax1.plot(critical_x, f(critical_x), 'ro', markersize=8)
ax1.axhline(y=0, color='k', linestyle='-', alpha=0.3)
ax1.axvline(x=0, color='k', linestyle='-', alpha=0.3)
ax1.fill_between(x, -10, 10, where=x<critical_x, alpha=0.3, 
                color='red', label='Decreasing')
ax1.fill_between(x, -10, 10, where=x>critical_x, alpha=0.3, 
                color='green', label='Increasing')
ax1.set_title(f'f(x) = x² - 4x with minimum at x = {critical_x}')
ax1.legend()
ax1.grid(True, alpha=0.3)

# Derivative plot
ax2.plot(x, y_prime)
ax2.axhline(y=0, color='k', linestyle='-', alpha=0.3)
ax2.axvline(x=0, color='k', linestyle='-', alpha=0.3)
ax2.plot(critical_x, 0, 'ro', markersize=8)
ax2.set_title("f'(x) = 2x - 4")
ax2.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print(f"Function is decreasing when x < {critical_x}")
print(f"Function is increasing when x > {critical_x}")
print(f"Minimum value is {f(critical_x)} at x = {critical_x}")
```

---

Derivatives give us a powerful way to understand and analyse the behaviour of functions. In the next and final section, we’ll summarise everything we’ve learned.

## Conclusion

In this report, we explored the fascinating world of **derivatives**, one of the most important ideas in mathematics.

### What Did We Learn?

- **Background**: Derivatives were developed by Isaac Newton and Gottfried Wilhelm Leibniz in the 17th century to study motion and change. Their ideas became the foundation of calculus.
  
- **Definition**: A derivative measures the **rate of change** of a function — how fast something is changing at a particular point. It can also be seen as the **slope of a curve** at a point.

- **Examples**: We saw how to compute derivatives using both the **limit definition** and **shortcut rules**, including the power rule and trigonometric derivatives.

- **Properties**: We learned important rules like the **product rule**, **quotient rule**, and **chain rule**, which help us take derivatives of more complicated functions.

- **Applications**: Derivatives are not just abstract ideas — they help us solve real problems:
  - Finding where a function reaches its highest or lowest value
  - Understanding the shape and curvature of graphs
  - Analysing when functions are increasing or decreasing

### Final Thoughts

Derivatives are everywhere — in physics, engineering, economics, biology, and beyond. They help us understand how things change and how to predict what will happen next. Even though derivatives may seem tricky at first, they are powerful tools that give us a new way of looking at the world.

Keep exploring, stay curious, and remember — every big idea in maths starts with a simple question. Derivatives began with a question as simple as, "How fast is this moving?"
